<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="icon" type="image/png" href="assets/sysTraderLog.svg">
<title>System Trader Log - One Screen Checklist</title>

<style>
:root {
  --bg: #0e1117;
  --card: #161b22;
  --text: #e6edf3;
  --muted: #9ba3af;
  --accent: #00f5ff;
  --danger: #ff4d4d;
  --success: #2ecc71;
  --glow: rgba(0,245,255,0.35);
}

body.neon {
  --bg: #05080d;
  --card: #0b1220;
  --accent: #39ff14;
  --glow: rgba(57,255,20,0.45);
}

* { box-sizing: border-box; font-family: Inter, system-ui, sans-serif; }

body {
  margin: 0;
  padding: 16px;
  background: radial-gradient(circle at top, #121a2f, var(--bg));
  color: var(--text);
}

.container { max-width: 420px; margin: auto; }

.card {
  background: var(--card);
  border-radius: 18px;
  padding: 18px;
  box-shadow: 0 0 30px rgba(0,0,0,.5);
}

body.neon .card { box-shadow: 0 0 40px var(--glow); }

.header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.header img {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  box-shadow: 0 0 12px rgba(20, 224, 255, 0.476);
}

.subtitle {
  font-size: .8rem;
  color: var(--accent);
  margin-bottom: 10px;
}

.tf, .Risiko {
  font-size: .75rem;
  color: var(--muted);
  margin-bottom: 12px;
}

.section {
  margin-bottom: 12px;
  padding-left: 10px;
  border-left: 2px solid var(--accent);
}

.section h2 {
  font-size: .85rem;
  color: var(--accent);
  margin-bottom: 6px;
}

.check {
  display: flex;
  align-items: center;
  font-size: .82rem;
  margin-bottom: 6px;
  color: var(--muted);
}

.check input {
  margin-right: 8px;
}

.progress {
  background: #1f2937;
  border-radius: 999px;
  height: 12px;
  overflow: hidden;
  margin-top: 12px;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: var(--danger);
  transition: width .3s ease, background .3s ease, box-shadow .3s ease;
}

.score {
  text-align: center;
  font-size: .85rem;
  margin-top: 6px;
}

.buttons {
  display: flex;
  gap: 8px;
  margin-top: 14px;
}

button {
  flex: 1;
  padding: 8px;
  border-radius: 10px;
  border: 1px solid var(--accent);
  background: transparent;
  color: var(--text);
  font-size: .75rem;
  cursor: pointer;
}

.footer {
  margin-top: 10px;
  text-align: center;
  font-size: .7rem;
  color: var(--muted);
}

</style>
</head>

<body>

<div class="container">

  <div class="card" id="prepScreen">
    <div class="header">
      <img src="assets/sYsTraderLogWith.svg">
      <h1>Vorbereitung</h1>
    </div>

    <div class="section">
      <h2>Mindset - Check</h2>
      <div class="check"><input type="checkbox" class="prep">Mental ruhig & fokussiert (kein unnÃ¶tiger Stress und Druck)</div>
      <div class="check"><input type="checkbox" class="prep">Ich akzeptiere, dass Verluste Teil des Systems sind</div>
      <div class="check"><input type="checkbox" class="prep">Tagesrisiko bekannt: max. -0,5%</div>
      <div class="check"><input type="checkbox" class="prep">Max. 2 Trades fÃ¼r heute festgelegt</div>
      <div class="check"><input type="checkbox" class="prep">Ich trade nur mein System - nichts anderes existiert</div>
    </div>

    <button id="prepBtn" onclick="enterChecklist()" disabled>Checklist starten</button>
  </div>


  <div class="card" id="checklistScreen" style="display:none">

    <div class="header">
      <img src="assets/sYsTraderLogWith.svg">
      <h1>System Trader Log</h1>
    </div>

    <div class="subtitle">Process over Profit</div>
    <div class="Risiko">Risiko: CRV â‰¥ 4:1 | pro/Trade 0.25%</div>
    <div class="tf">TF-Flow: 4H â†’ 1H â†’ 15m â†’ 5m â†’ 1m</div>

    <div class="section">
      <h2>HTF Kontext (4H / 1H)</h2>
      <div class="check"><input type="checkbox" class="trade">News & Market Phase klar</div>
      <div class="check"><input type="checkbox" class="trade">Supply / Demand frisch</div>
      <div class="check"><input type="checkbox" class="trade">Wyckoff passt</div>
    </div>

    <div class="section">
      <h2>LiquiditÃ¤t</h2>
      <div class="check"><input type="checkbox" class="trade">EQH / EQL identifiziert</div>
      <div class="check"><input type="checkbox" class="trade">Session High / Low</div>
      <div class="check"><input type="checkbox" class="trade">Liquidity Grab erfolgt</div>
    </div>

    <div class="section">
      <h2>Struktur (15m / 5m)</h2>
      <div class="check"><input type="checkbox" class="trade">Preisverschiebung impulsiv</div>
      <div class="check"><input type="checkbox" class="trade">BOS / CHoCH bestÃ¤tigt</div>
      <div class="check"><input type="checkbox" class="trade">Richtung / Ziel = HTF Bias</div>
    </div>

    <div class="section">
      <h2>Entry (1m)</h2>
      <div class="check"><input type="checkbox" class="trade">Order Block valide</div>
      <div class="check"><input type="checkbox" class="trade">Tap in OB (kein FOMO)</div>
      <div class="check"><input type="checkbox" class="trade">System SL & TP = OBH / OBL</div>
    </div>

    <div class="progress"><div class="progress-bar" id="bar"></div></div>
    <div class="score" id="score">Score: 0 / 0</div>

    <div class="buttons">
      <button onclick="resetChecklist()">Reset</button>
      <button onclick="toggleTheme()">Dark / Neon</button>
      <button onclick="exportJournal()">Text</button>
      <button onclick="exportScreenshot()">Screenshot</button>
    </div>

    <div class="footer">Erst die Regeln, dann das Gold</div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
const tradeChecks = document.querySelectorAll('.trade');
const prepChecks = document.querySelectorAll('.prep');
const bar = document.getElementById('bar');
const scoreEl = document.getElementById('score');
const prepBtn = document.getElementById('prepBtn');
const prepScreen = document.getElementById('prepScreen');
const checklistScreen = document.getElementById('checklistScreen');

function update() {
  const checked = [...tradeChecks].filter(c => c.checked).length;
  const total = tradeChecks.length;
  const percent = Math.round((checked / total) * 100);

  scoreEl.textContent = `Score: ${checked} / ${total}`;
  bar.style.width = percent + '%';
  bar.style.background = percent === 100 ? 'var(--success)' : 'var(--danger)';

  localStorage.setItem('systemTraderLogChecklist',
    JSON.stringify([...tradeChecks].map(c => c.checked)));
}

tradeChecks.forEach(c => c.addEventListener('change', update));

prepChecks.forEach(c => c.addEventListener('change', () => {
  prepBtn.disabled = ![...prepChecks].every(c => c.checked);
}));

function enterChecklist() {
  prepScreen.style.display = 'none';
  checklistScreen.style.display = 'block';
  localStorage.setItem('prepDone','true');
}

function resetChecklist() {
  document.querySelectorAll('input[type="checkbox"]').forEach(c => c.checked = false);
  localStorage.clear();
  checklistScreen.style.display = 'none';
  prepScreen.style.display = 'block';
  update();
}

function toggleTheme() {
  document.body.classList.toggle('neon');
}

function exportJournal() {
  navigator.clipboard.writeText(`System Trader Log\n${scoreEl.textContent}`);
  alert('Bereit fÃ¼r Telegram ðŸ“‹');
}

function exportScreenshot() {
  html2canvas(checklistScreen,{scale:2,backgroundColor:null})
    .then(c=>{
      const a=document.createElement('a');
      a.download=`SystemTraderLog_${new Date().toISOString().slice(0,10)}.png`;
      a.href=c.toDataURL();
      a.click();
    });
}

/* Auto Resume */
(function(){
  if(localStorage.getItem('prepDone')==='true'){
    prepScreen.style.display='none';
    checklistScreen.style.display='block';
    const saved=JSON.parse(localStorage.getItem('systemTraderLogChecklist'));
    if(saved) tradeChecks.forEach((c,i)=>c.checked=saved[i]);
    update();
  }
})();
</script>

</body>
</html>
